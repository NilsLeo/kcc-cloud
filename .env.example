# Docker User/Group IDs (set to match your host user to avoid permission issues)
PUID=1000
PGID=1000

# Timezone
TZ=UTC

# Backend Configuration
FLASK_ENV=production
FLASK_DEBUG=0
DATABASE_URL=sqlite:////data/jobs.db
STORAGE_PATH=/data
# CORS: Use specific origins for production, or * for development
# For dev with IP access, use * to allow any origin
ALLOWED_ORIGINS=http://localhost:3000,http://localhost

# CORS Configuration for WebSocket
# For dev with IP access, use * to allow any origin
SOCKETIO_CORS_ORIGINS=http://localhost:3000,http://localhost

# Gunicorn
GUNICORN_WORKERS=4
GUNICORN_TIMEOUT=600
GUNICORN_GRACEFUL_TIMEOUT=600

# Celery Worker Configuration
CELERY_BROKER_URL=redis://redis:6379/0

# CELERY_CONCURRENCY: Number of worker processes per container (default: 2)
# Higher concurrency = more parallel jobs per container
CELERY_CONCURRENCY=2

# To scale the NUMBER of worker containers, use:
# docker-compose up -d --scale celery-worker=N
# where N is the number of worker containers (e.g., 5 for 5 containers)
# Total worker processes = N containers × CELERY_CONCURRENCY processes
# Example: 5 containers × 2 concurrency = 10 parallel conversion jobs

# Upload Limits (applies to nginx, backend, and frontend)
# Default: 1GB (1073741824 bytes)
MAX_UPLOAD_SIZE=1073741824

# Frontend Configuration
# Use /api for relative URLs (recommended for both dev and prod)
NEXT_PUBLIC_API_URL=/api
# WebSocket URL - only needed for dev when accessing from different machine
# Set to your server's IP:port (e.g., http://192.168.1.100:8060)
# Leave empty or omit for localhost access or production
#NEXT_PUBLIC_WS_URL=http://YOUR_SERVER_IP:8060
NEXT_PUBLIC_MAX_FILES=10
NEXT_PUBLIC_MAX_FILE_SIZE=1073741824
